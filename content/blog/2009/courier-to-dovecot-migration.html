---
title: Courier to Dovecot migration
created: !!timestamp '2009-10-02 00:00:00'
tags:
    - Dovecot
    - Mail
    - IMAP
---
{% block excerpt %}
{% mark excerpt %}

This week, I've managed to migrate from
[courier-imap](http://www.courier-mta.org/imap/) to
[dovecot](http://www.dovecot.org) at work. I always had a good experience
with dovecot, and I still have one.

{% endmark %}
{% endblock %}

Dovecot performances are very good in comparison with courier. With that
switch, we dropped the CPU usage of the server from 25 % to 10 %, and it's
damn faster now. I have no idea why, but I think that it's better written
looking at the code, and also that its usage of index files helps a lot.

We got no problem getting things work with public folders either, so the
switch was almost painless.

The only problem we had is that Dovecot is too smart for some MUA.
Consequently, we hit an [8 years old Mutt bug #969](http://dev.mutt.org/trac/ticket/969),
which I also reported to the
Debian BTS as [#549204](http://bugs.debian.org/549204) with a
not-well-tested-but-seems-to-work patch.

Thanks to [Claws mail](http://www.claws-mail.org/), we also found a [bug in
dovecot
1.2.5](http://dovecot.org/pipermail/dovecot/2009-October/043236.html), which
should be fixed soon. Dovecot upstream is very responsive and that's always
something nice to know when you use a free software.
